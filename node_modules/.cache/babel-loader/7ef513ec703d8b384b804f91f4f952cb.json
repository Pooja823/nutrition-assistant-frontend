{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import ArrowForwardIos from'@mui/icons-material/ArrowForwardIos';import{Box}from'@mui/material';import{Container}from'@mui/system';import React,{useContext,useState}from'react';import'../../styles/auth.modules.css';import LogoutIcon from'@mui/icons-material/Logout';import{useNavigate}from'react-router-dom';import Radio from'@mui/material/Radio';import RadioGroup from'@mui/material/RadioGroup';import{API}from'../../services/apis';import{useSnackbar}from'notistack';import FormControlLabel from'@mui/material/FormControlLabel';import FormControl from'@mui/material/FormControl';import{AppContext}from'../../Context/AppContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserInitialForm=function UserInitialForm(){var navigate=useNavigate();var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useContext=useContext(AppContext),setuserInfo=_useContext.setuserInfo,setmaxCalories=_useContext.setmaxCalories,fetchTodaysConsumption=_useContext.fetchTodaysConsumption,fetchWeekData=_useContext.fetchWeekData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setisLoading=_useState2[1];var _useState3=useState({age:'',gender:'female',weight:'',height:'',activity:'1.2'}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setstate=_useState4[1];var handleLogout=function handleLogout(){localStorage.removeItem('token','');localStorage.removeItem('userInfo','');navigate('/');};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!state.age||!state.gender||!state.weight||!state.height||!state.activity)){_context.next=3;break;}enqueueSnackbar('Please fill all details',{variant:'error'});return _context.abrupt(\"return\");case 3:_context.prev=3;setisLoading(true);_context.next=7;return API.userAdditionInfo(state);case 7:res=_context.sent;localStorage.setItem('userInfo',JSON.stringify(res.userInfo));setuserInfo(res.userInfo);setmaxCalories(res.maxCalories);fetchTodaysConsumption();fetchWeekData();navigate('/dashboard');_context.next=20;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](3);setisLoading(false);enqueueSnackbar('Something went wrong',{variant:'error'});case 20:case\"end\":return _context.stop();}}},_callee,null,[[3,16]]);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{style:{background:'linear-gradient(45deg, rgba(244,235,215,1) 50%, rgba(241,181,113,1) 50%)',minHeight:'100vh'},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{style:{display:'flex',alignItems:'center',float:'right',background:'var(--onOrange)',color:'var(--themecolor)',padding:'10px 15px',fontSize:'20px',margin:'20px 10px 0 0',border:'1px solid var(--onOrange)',borderRadius:'8px'},onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:'10px'},children:\"Logout\"}),' ',/*#__PURE__*/_jsx(LogoutIcon,{})]}),/*#__PURE__*/_jsx(\"img\",{style:{width:'4rem',padding:'6px 0 0 6px'},src:\"/static/img/logo_crop.png\",alt:\"\"}),/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsxs(Box,{sx:{mt:'2rem',mx:'1rem',p:'1rem',backgroundColor:'#fff',borderRadius:'8px',boxShadow:'0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)'},children:[/*#__PURE__*/_jsx(\"h1\",{align:\"center\",children:\"Just one last step\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Age\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{value:state.age,onChange:function onChange(e){return setstate(_objectSpread(_objectSpread({},state),{},{age:e.target.value}));},style:{width:'100%',paddingRight:'35px'},placeholder:\"eg. 25\",className:\"textField\",type:\"number\"}),/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',right:'10px',top:'12px'},children:\"Yrs\"})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Gender\"}),/*#__PURE__*/_jsxs(RadioGroup,{value:state.gender,onChange:function onChange(e){return setstate(_objectSpread(_objectSpread({},state),{},{gender:e.target.value}));},row:true,\"aria-labelledby\":\"demo-row-radio-buttons-group-label\",name:\"row-radio-buttons-group\",children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"female\",control:/*#__PURE__*/_jsx(Radio,{sx:{color:'var(--themecolor)','&.Mui-checked':{color:'var(--themecolor)'}}}),label:\"Female\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"male\",control:/*#__PURE__*/_jsx(Radio,{sx:{color:'var(--themecolor)','&.Mui-checked':{color:'var(--themecolor)'}}}),label:\"Male\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"other\",control:/*#__PURE__*/_jsx(Radio,{sx:{color:'var(--themecolor)','&.Mui-checked':{color:'var(--themecolor)'}}}),label:\"Other\"})]})]}),/*#__PURE__*/_jsx(\"label\",{style:{display:'block'},className:\"label\",children:\"Weight\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{value:state.weight,onChange:function onChange(e){return setstate(_objectSpread(_objectSpread({},state),{},{weight:e.target.value}));},style:{paddingRight:'35px'},placeholder:\"eg. 60\",className:\"textField\",type:\"number\"}),/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',right:'10px',top:'12px'},children:\"KG\"})]}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Height\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{value:state.height,onChange:function onChange(e){return setstate(_objectSpread(_objectSpread({},state),{},{height:e.target.value}));},style:{paddingRight:'35px'},placeholder:\"eg. 180\",className:\"textField\",type:\"number\"}),/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',right:'10px',top:'12px'},children:\"cm\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:state.exercise,onChange:function onChange(e){return setstate(_objectSpread(_objectSpread({},state),{},{activity:e.target.value}));},className:\"textField\",style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"option\",{value:1.2,children:\"Little or No Exercise\"}),/*#__PURE__*/_jsx(\"option\",{value:1.375,children:\"Light : Exercise 1 to 3 days a week\"}),/*#__PURE__*/_jsx(\"option\",{value:1.55,children:\"Moderate : Exercise 4 to 5 times a week\"}),/*#__PURE__*/_jsx(\"option\",{value:1.725,children:\"Active : Daily Exercise\"}),/*#__PURE__*/_jsx(\"option\",{value:1.9,children:\"Very Active : Intense Exercise Daily\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"button\",{disabled:isLoading,style:{display:'flex',justifyContent:'center',alignItems:'center',columnGap:'1rem',padding:'12px 24px',borderRadius:'6px',fontSize:'20px',color:'white',background:'var(--themecolor)',border:'1px solid var(--themecolor)',marginTop:'20px'},className:\"btn\",type:\"submit\",onClick:handleSubmit,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Complete\"}),/*#__PURE__*/_jsx(ArrowForwardIos,{})]})})]})]})})]})});};export default UserInitialForm;","map":null,"metadata":{},"sourceType":"module"}