{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{Fragment,useContext}from'react';import Divider from'@mui/material/Divider';import NoMealsIcon from'@mui/icons-material/NoMeals';import RestaurantIcon from'@mui/icons-material/Restaurant';import{useNavigate}from'react-router-dom';import KeyboardBackspaceIcon from'@mui/icons-material/KeyboardBackspace';import Alert from'@mui/material/Alert';import{Box,Container}from'@mui/material';import{API}from'../../services/apis';import{useSnackbar}from'notistack';import{AppContext}from'../../Context/AppContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Nutrients=function Nutrients(_ref){var _nutrientsList$find;var setisLoading=_ref.setisLoading,image_url=_ref.image_url,setscreen=_ref.setscreen,imageBlob=_ref.imageBlob,nutrientsList=_ref.nutrientsList,consumedFoodId=_ref.consumedFoodId;var navigate=useNavigate();var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useContext=useContext(AppContext),fetchTodaysConsumption=_useContext.fetchTodaysConsumption,fetchWeekData=_useContext.fetchWeekData;var calories=((_nutrientsList$find=nutrientsList.find(function(nutri){return nutri.title==='Calorie';}))===null||_nutrientsList$find===void 0?void 0:_nutrientsList$find.value)||0;var handleInTake=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _err$response,_err$response$data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setisLoading(true);_context.prev=1;_context.next=4;return API.intakeFood({consumed_food_id:consumedFoodId});case 4:setisLoading(false);navigate('/dashboard');fetchTodaysConsumption();fetchWeekData();_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);setisLoading(false);if(_context.t0!==null&&_context.t0!==void 0&&(_err$response=_context.t0.response)!==null&&_err$response!==void 0&&(_err$response$data=_err$response.data)!==null&&_err$response$data!==void 0&&_err$response$data.msg){enqueueSnackbar(_context.t0.response.data.msg,{variant:'error'});}else{enqueueSnackbar('Something went wrong',{variant:'error'});}case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function handleInTake(){return _ref2.apply(this,arguments);};}();var handleCancelIntake=function handleCancelIntake(){navigate('/dashboard');};return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",children:/*#__PURE__*/_jsxs(\"div\",{style:{paddingBottom:'5rem',paddingTop:'1rem'},children:[/*#__PURE__*/_jsxs(\"button\",{style:{display:'inline-block',background:'var(--backgroundColor)',border:'0',margin:'10px 0 0 10px'},onClick:function onClick(e){setscreen(false);},children:[' ',/*#__PURE__*/_jsx(KeyboardBackspaceIcon,{sx:{fontSize:'35px'}})]}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"img\",{style:{objectFit:'cover',display:'block',margin:'0 0.5rem',borderRadius:'5px',width:'90%',height:'20rem'},src:imageBlob,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'9rem',height:'9rem',background:'#F1A661',borderRadius:'100%',boxShadow:'0 4px 4px 0 rgba(0, 0, 0, 0.1), 0 6px 10px 0 rgba(0, 0, 0, 0.2)',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',margin:'10px auto'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:800,fontSize:'2.2rem',color:'var(--onOrange)'},children:Number(calories).toFixed(2)}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px',color:'var(--onOrange)'},children:\"calories\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'85%',margin:'10px auto'},children:calories<400?/*#__PURE__*/_jsx(Alert,{variant:\"outlined\",severity:\"warning\",children:\"Insufficient calories. Consume more (Ignore if it's not a meal)\"}):calories>=400&&calories<=600?/*#__PURE__*/_jsx(Alert,{variant:\"outlined\",severity:\"success\",children:\"sufficient calories. Enjoy your meal\"}):/*#__PURE__*/_jsx(Alert,{variant:\"outlined\",severity:\"error\",children:\"Excess calories. Avoid Consuming more\"})}),/*#__PURE__*/_jsx(\"div\",{style:{},children:nutrientsList.filter(function(nutri){return nutri.title!=='Calorie';}).map(function(nutrient,idx,arr){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',margin:'0 1.5rem'},children:[/*#__PURE__*/_jsx(\"h4\",{children:nutrient.title}),/*#__PURE__*/_jsxs(\"span\",{children:[Number(nutrient.value).toFixed(2),' ',nutrient.units]})]}),idx!==arr.length-1&&/*#__PURE__*/_jsx(Divider,{})]},nutrient.attri_id);})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-evenly',position:'fixed',bottom:0,background:'#fff',width:'100%'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleCancelIntake,style:{borderRadius:'6px',fontSize:'20px',padding:'10px 24px',background:'var(--onOrange)',border:'1px solid var(--themecolor)',margin:'20px 0',display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(NoMealsIcon,{}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px'},children:\"Cancel\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleInTake,style:{borderRadius:'6px',fontSize:'20px',padding:'10px 24px',background:'var(--themecolor)',border:'1px solid var(--themecolor)',color:'#fff',margin:'20px 0',display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(RestaurantIcon,{}),' ',/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px'},children:\"Intake\"})]})]})})]})});};export default Nutrients;","map":null,"metadata":{},"sourceType":"module"}