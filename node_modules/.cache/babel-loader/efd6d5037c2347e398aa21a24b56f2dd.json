{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef}from'react';import styles from'../styles/dashboard.module.css';import HomeIcon from'@mui/icons-material/Home';import PersonIcon from'@mui/icons-material/Person';import CameraAltIcon from'@mui/icons-material/CameraAlt';import CalendarMonthIcon from'@mui/icons-material/CalendarMonth';import FeedIcon from'@mui/icons-material/Feed';import{Link,useLocation,useNavigate}from'react-router-dom';import{useState}from'react';import{API}from'../services/apis';import{FullPageLoading}from'./LoadingSpinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SCREENS={DASHBOARD:'DASHBOARD',PROFILE:'PROFILE',CAPTURE:'CAPTURE',REPORTS:'REPORTS',BLOGS:'BLOGS'};var BottomNavBar=function BottomNavBar(){var navigate=useNavigate();var location=useLocation();var imgCaptureRef=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setisLoading=_useState2[1];var _useState3=useState(SCREENS.DASHBOARD),_useState4=_slicedToArray(_useState3,2),currentScreen=_useState4[0],setcurrentScreen=_useState4[1];var handleChangeScreen=function handleChangeScreen(screen){setcurrentScreen(screen);};var handleSelectImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(foodImage){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setisLoading(true);_context.prev=1;_context.next=4;return API.captureFood({foodImage:foodImage});case 4:res=_context.sent;setisLoading(false);navigate('/foodScan',{state:{imageBlob:URL.createObjectURL(foodImage),image_url:res.image_url,foodItems:res.foodItems}});_context.next=14;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);setisLoading(false);navigate('/dashboard');setcurrentScreen(SCREENS.DASHBOARD);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleSelectImage(_x){return _ref.apply(this,arguments);};}();var correctHighlighter=function correctHighlighter(){alert(location.pathname);switch(location.pathname){case'/dashboard':setcurrentScreen(SCREENS.DASHBOARD);return;case'/reports':setcurrentScreen(SCREENS.REPORTS);return;case'/profile':setcurrentScreen(SCREENS.PROFILE);return;case'/blogs':setcurrentScreen(SCREENS.BLOGS);return;default:setcurrentScreen(SCREENS.DASHBOARD);navigate('/dashboard');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FullPageLoading,{isLoading:isLoading}),/*#__PURE__*/_jsx(\"div\",{className:styles.container,children:/*#__PURE__*/_jsx(\"div\",{className:styles.navigation,children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:currentScreen===SCREENS.DASHBOARD?styles.active:'',onClick:function onClick(){return handleChangeScreen(SCREENS.DASHBOARD);},children:/*#__PURE__*/_jsxs(Link,{to:\"/dashboard\",children:[/*#__PURE__*/_jsx(\"span\",{className:styles.icon,children:/*#__PURE__*/_jsx(HomeIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(\"span\",{className:styles.text,children:\"Dashboard\"})]})}),/*#__PURE__*/_jsx(\"li\",{id:\"reports\",className:currentScreen===SCREENS.REPORTS?styles.active:'',onClick:function onClick(){return handleChangeScreen(SCREENS.REPORTS);},children:/*#__PURE__*/_jsxs(Link,{to:\"/reports\",children:[/*#__PURE__*/_jsx(\"span\",{className:styles.icon,children:/*#__PURE__*/_jsx(CalendarMonthIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(\"span\",{className:styles.text,children:\"Reports\"})]})}),/*#__PURE__*/_jsxs(\"li\",{id:\"scan\",className:currentScreen===SCREENS.CAPTURE?styles.active:'',onClick:function onClick(){handleChangeScreen(SCREENS.CAPTURE);imgCaptureRef.current.click();},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",ref:imgCaptureRef,style:{display:'none'},onChange:function onChange(e){if(e.target.files.length>0)handleSelectImage(e.target.files[0]);else correctHighlighter();}}),/*#__PURE__*/_jsxs(Link,{to:\"#\",children:[/*#__PURE__*/_jsx(\"span\",{className:styles.icon,children:/*#__PURE__*/_jsx(CameraAltIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(\"span\",{className:styles.text,children:\"Capture\"})]})]}),/*#__PURE__*/_jsx(\"li\",{id:\"blogs\",className:currentScreen===SCREENS.BLOGS?styles.active:'',onClick:function onClick(){return handleChangeScreen(SCREENS.BLOGS);},children:/*#__PURE__*/_jsxs(Link,{to:\"/blogs\",children:[/*#__PURE__*/_jsx(\"span\",{className:styles.icon,children:/*#__PURE__*/_jsx(FeedIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(\"span\",{className:styles.text,children:\"Feed\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:currentScreen===SCREENS.PROFILE?styles.active:'',onClick:function onClick(){return handleChangeScreen(SCREENS.PROFILE);},children:/*#__PURE__*/_jsxs(Link,{to:\"/profile\",children:[/*#__PURE__*/_jsx(\"span\",{className:styles.icon,children:/*#__PURE__*/_jsx(PersonIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(\"span\",{className:styles.text,children:\"Profile\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.indicator})]})})})]});};export default BottomNavBar;","map":null,"metadata":{},"sourceType":"module"}