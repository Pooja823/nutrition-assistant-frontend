{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\nutrition-assistant-webapp\\\\frontend\\\\src\\\\pages\\\\Reports\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { Alert, Container } from '@mui/material';\nimport { useSnackbar } from 'notistack';\nimport React, { useContext, useState } from 'react';\nimport Chart from 'react-apexcharts';\nimport DailyReport from '../../Components/DailyReport';\nimport { AppContext } from '../../Context/AppContext';\nimport { API } from '../../services/apis';\nimport { getChartData } from '../../utils/utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Reports = () => {\n  _s();\n\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    weekData,\n    setisLoading\n  } = useContext(AppContext);\n  const [categories, weekCalories] = getChartData(weekData);\n  const [foodItems, setfoodItems] = useState(null);\n  const [selectedDate, setselectedDate] = useState(null);\n\n  const getDate = async idx => {\n    const selectDate = weekData.find(week => week.DAY === categories[idx]);\n\n    if (!selectDate) {\n      return;\n    }\n\n    const selectedDate = new Date(selectDate.CONSUMED_ON).getTime();\n    setselectedDate(new Date(selectDate.CONSUMED_ON));\n    setisLoading(true);\n\n    try {\n      const res = await API.consumptionOn(selectedDate);\n      setisLoading(false);\n      setfoodItems(res.food_items);\n    } catch (err) {\n      if (err.response.data.msg) {\n        enqueueSnackbar(err.response.data.msg, {\n          variant: 'error'\n        });\n      } else enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n\n      setisLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: 'var(--backgroundColor)',\n      paddingBottom: '6rem',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        boxShadow: 'rgba(0, 0, 0, 0.2) 0px 3px 3px 0px',\n        display: 'flex',\n        justifyContent: 'center',\n        marginBottom: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          display: 'inline-block',\n          margin: '0 auto',\n          padding: '0.8rem'\n        },\n        children: \"Weekly health\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '0 1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Chart, {\n          type: \"bar\",\n          series: [{\n            name: 'calories',\n            color: '#F0A500',\n            data: weekCalories\n          }],\n          height: 400,\n          options: {\n            xaxis: {\n              categories: categories\n            },\n            yaxis: {\n              title: {\n                text: 'calories'\n              }\n            },\n            grid: {\n              show: false\n            },\n            plotOptions: {\n              bar: {\n                horizontal: false,\n                columnWidth: '30%',\n                borderRadius: 6\n              },\n              colors: {\n                backgroundBarRadius: 20,\n                backgroundBarColors: ['#fff', 'red']\n              }\n            },\n            dataLabels: {\n              enabled: false\n            },\n            chart: {\n              events: {\n                dataPointSelection: (event, chartContext, config) => {\n                  getDate(config.dataPointIndex);\n                }\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), foodItems && selectedDate ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(DailyReport, {\n            selectedDate: selectedDate,\n            foodItems: foodItems\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          children: \"Select above bars to see consumed food items on particular date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Reports, \"qecuLTd4VByula02mrMtec7Lt5I=\", false, function () {\n  return [useSnackbar];\n});\n\n_c = Reports;\nexport default Reports;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["Alert","Container","useSnackbar","React","useContext","useState","Chart","DailyReport","AppContext","API","getChartData","Reports","enqueueSnackbar","weekData","setisLoading","categories","weekCalories","foodItems","setfoodItems","selectedDate","setselectedDate","getDate","idx","selectDate","find","week","DAY","Date","CONSUMED_ON","getTime","res","consumptionOn","food_items","err","response","data","msg","variant","background","paddingBottom","minHeight","boxShadow","display","justifyContent","marginBottom","margin","padding","name","color","xaxis","yaxis","title","text","grid","show","plotOptions","bar","horizontal","columnWidth","borderRadius","colors","backgroundBarRadius","backgroundBarColors","dataLabels","enabled","chart","events","dataPointSelection","event","chartContext","config","dataPointIndex"],"sources":["C:/Users/Lenovo/nutrition-assistant-webapp/frontend/src/pages/Reports/index.js"],"sourcesContent":["import { Alert, Container } from '@mui/material';\r\nimport { useSnackbar } from 'notistack';\r\nimport React, { useContext, useState } from 'react';\r\nimport Chart from 'react-apexcharts';\r\nimport DailyReport from '../../Components/DailyReport';\r\nimport { AppContext } from '../../Context/AppContext';\r\nimport { API } from '../../services/apis';\r\nimport { getChartData } from '../../utils/utils';\r\n\r\nconst Reports = () => {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const { weekData, setisLoading } = useContext(AppContext);\r\n    const [categories, weekCalories] = getChartData(weekData);\r\n    const [foodItems, setfoodItems] = useState(null);\r\n    const [selectedDate, setselectedDate] = useState(null);\r\n    const getDate = async (idx) => {\r\n        const selectDate = weekData.find(\r\n            (week) => week.DAY === categories[idx]\r\n        );\r\n        if (!selectDate) {\r\n            return;\r\n        }\r\n        const selectedDate = new Date(selectDate.CONSUMED_ON).getTime();\r\n        setselectedDate(new Date(selectDate.CONSUMED_ON));\r\n        setisLoading(true);\r\n        try {\r\n            const res = await API.consumptionOn(selectedDate);\r\n            setisLoading(false);\r\n            setfoodItems(res.food_items);\r\n        } catch (err) {\r\n            if (err.response.data.msg) {\r\n                enqueueSnackbar(err.response.data.msg, { variant: 'error' });\r\n            } else\r\n                enqueueSnackbar('Something went wrong', { variant: 'error' });\r\n            setisLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                background: 'var(--backgroundColor)',\r\n                paddingBottom: '6rem',\r\n                minHeight: '100vh',\r\n            }}\r\n        >\r\n            <div\r\n                style={{\r\n                    boxShadow: 'rgba(0, 0, 0, 0.2) 0px 3px 3px 0px',\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    marginBottom: '20px',\r\n                }}\r\n            >\r\n                <h1\r\n                    style={{\r\n                        display: 'inline-block',\r\n                        margin: '0 auto',\r\n                        padding: '0.8rem',\r\n                    }}\r\n                >\r\n                    Weekly health\r\n                </h1>\r\n            </div>\r\n            <Container maxWidth='md'>\r\n                <div style={{ padding: '0 1rem' }}>\r\n                    <Chart\r\n                        type='bar'\r\n                        series={[\r\n                            {\r\n                                name: 'calories',\r\n                                color: '#F0A500',\r\n                                data: weekCalories,\r\n                            },\r\n                        ]}\r\n                        height={400}\r\n                        options={{\r\n                            xaxis: {\r\n                                categories: categories,\r\n                            },\r\n                            yaxis: {\r\n                                title: {\r\n                                    text: 'calories',\r\n                                },\r\n                            },\r\n                            grid: {\r\n                                show: false,\r\n                            },\r\n                            plotOptions: {\r\n                                bar: {\r\n                                    horizontal: false,\r\n                                    columnWidth: '30%',\r\n                                    borderRadius: 6,\r\n                                },\r\n                                colors: {\r\n                                    backgroundBarRadius: 20,\r\n                                    backgroundBarColors: ['#fff', 'red'],\r\n                                },\r\n                            },\r\n                            dataLabels: {\r\n                                enabled: false,\r\n                            },\r\n                            chart: {\r\n                                events: {\r\n                                    dataPointSelection: (\r\n                                        event,\r\n                                        chartContext,\r\n                                        config\r\n                                    ) => {\r\n                                        getDate(config.dataPointIndex);\r\n                                    },\r\n                                },\r\n                            },\r\n                        }}\r\n                    ></Chart>\r\n                    {foodItems && selectedDate ? (\r\n                        <div>\r\n                            <DailyReport\r\n                                selectedDate={selectedDate}\r\n                                foodItems={foodItems}\r\n                            />\r\n                        </div>\r\n                    ) : (\r\n                        <Alert severity='info'>\r\n                            Select above bars to see consumed food items on\r\n                            particular date\r\n                        </Alert>\r\n                    )}\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Reports;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}