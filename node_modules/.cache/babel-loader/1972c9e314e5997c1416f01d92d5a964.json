{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Lenovo/nutrition-assistant-webapp/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Alert,Container}from'@mui/material';import{useSnackbar}from'notistack';import React,{useContext,useState}from'react';import Chart from'react-apexcharts';import DailyReport from'../../Components/DailyReport';import{AppContext}from'../../Context/AppContext';import{API}from'../../services/apis';import{getChartData}from'../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Reports=function Reports(){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useContext=useContext(AppContext),weekData=_useContext.weekData,setisLoading=_useContext.setisLoading;var _getChartData=getChartData(weekData),_getChartData2=_slicedToArray(_getChartData,2),categories=_getChartData2[0],weekCalories=_getChartData2[1];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),foodItems=_useState2[0],setfoodItems=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedDate=_useState4[0],setselectedDate=_useState4[1];var getDate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(idx){var selectDate,selectedDate,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:selectDate=weekData.find(function(week){return week.DAY===categories[idx];});if(selectDate){_context.next=3;break;}return _context.abrupt(\"return\");case 3:selectedDate=new Date(selectDate.CONSUMED_ON).getTime();setselectedDate(new Date(selectDate.CONSUMED_ON));setisLoading(true);_context.prev=6;_context.next=9;return API.consumptionOn(selectedDate);case 9:res=_context.sent;setisLoading(false);setfoodItems(res.food_items);_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](6);if(_context.t0.response.data.msg){enqueueSnackbar(_context.t0.response.data.msg,{variant:'error'});}else enqueueSnackbar('Something went wrong',{variant:'error'});setisLoading(false);case 18:case\"end\":return _context.stop();}}},_callee,null,[[6,14]]);}));return function getDate(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{style:{background:'var(--backgroundColor)',paddingBottom:'6rem',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(\"div\",{style:{boxShadow:'rgba(0, 0, 0, 0.2) 0px 3px 3px 0px',display:'flex',justifyContent:'center',marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"h1\",{style:{display:'inline-block',margin:'0 auto',padding:'0.8rem'},children:\"Weekly health\"})}),/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0 1rem'},children:[/*#__PURE__*/_jsx(Chart,{type:\"bar\",series:[{name:'calories',color:'#F0A500',data:weekCalories}],height:400,options:{xaxis:{categories:categories},yaxis:{title:{text:'calories'}},grid:{show:false},plotOptions:{bar:{horizontal:false,columnWidth:'30%',borderRadius:6},colors:{backgroundBarRadius:20,backgroundBarColors:['#fff','red']}},dataLabels:{enabled:false},chart:{events:{dataPointSelection:function dataPointSelection(event,chartContext,config){getDate(config.dataPointIndex);}}}}}),foodItems&&selectedDate?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DailyReport,{selectedDate:selectedDate,foodItems:foodItems})}):/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"Select above bars to see consumed food items on particular date\"})]})})]});};export default Reports;","map":null,"metadata":{},"sourceType":"module"}